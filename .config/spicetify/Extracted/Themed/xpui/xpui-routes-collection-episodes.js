(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[289],{51707:(e,t,a)=>{"use strict";a.d(t,{K:()=>P});var s=a(27378),n=a.n(s),c=a(60042),r=a.n(c),i=a(11700);const o="show-shareButton-button";var l=a(61043),d=a(73631),u=a(75222),m=a(30592),f=a(62351);const p=n().memo((({onClick:e=(()=>{}),size:t=24,className:a,uri:c,sharingInfo:i,interactionData:p})=>{const{onCopyLink:b}=(0,m.y)({sharingInfo:i,uri:c,interactionData:p}),g=(0,s.useCallback)((()=>{b(),e()}),[e,b]);return n().createElement(f.u,{label:l.ag.get("mwp.list.item.share")},n().createElement(u.E,{ariaLabel:l.ag.get("mwp.list.item.share"),size:t,onClick:g,className:r()(o,a)},n().createElement(d.M,{iconSize:t})))}));var b=a(17113),g=a(14105),E=a(40980),y=a(85349),h=a(48896);const v={intent:"share",type:"click",itemIdSuffix:"contextmenu/episode/share"},P=n().memo((({episodeUri:e,showUri:t,sharingInfo:a})=>{const{useDownloading:c}=(0,s.useContext)(E.I),{currentAvailability:o}=c(e),l=[y.V8.YES,y.V8.DOWNLOADING,y.V8.WAITING].includes(o),d=(0,s.useMemo)((()=>n().createElement(g.p,{uri:e,showUri:t,className:r()({[i.Z.visibleDownloadButton]:l})})),[e,t,l]),u=(0,s.useMemo)((()=>n().createElement(p,{uri:e,sharingInfo:a,interactionData:v})),[e,a]),m=(0,s.useMemo)((()=>n().createElement(b.w,{uri:e,size:h.q.md,className:i.Z.saveButton})),[e]);return n().createElement(n().Fragment,null,u,d,m)}))},55543:(e,t,a)=>{"use strict";a.r(t),a.d(t,{YourEpisodes:()=>Z,YourEpisodesContainer:()=>q,default:()=>z});var s=a(27378),n=a.n(s),c=a(61043),r=a(33644),i=a(60858),o=a(74544),l=a(58681),d=a(55157),u=a(86883),m=a(16782),f=a(39551),p=a(79313),b=a(73998),g=a(7593),E=a(65526),y=a.n(E),h=a(79308),v=a(66583),P=a(42658),w=a(53877),O=a(70568),k=a(11111),C=a(21114),x=a(82075),D=a(51707),N=a(65288),I=a(54753),S=a(27599);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const L={small:64,standard:300,large:640,xlarge:1024},A=n().memo((({index:e,uid:t,contextUri:a,episode:c,sortedBy:r,filteredBy:i})=>{const o=c.duration.milliseconds-c.timeLeft.milliseconds,l=c.uri,d={uid:t,uri:l,contextUri:a},[u,m]=(0,s.useState)(0===c.timeLeft.milliseconds),f=(0,v.O1)(),p=(0,N.jh)(),b=(0,k.o)(),E=(0,w.cq)(_(_({},d),{},{index:e,sortedBy:r,filteredBy:i})),y=(0,s.useCallback)((e=>{E(e,{interactionType:"click",onLogInteraction:b})}),[b,E]),U=(0,s.useCallback)((()=>{b({type:"click",targetUri:l,intent:"navigate"})}),[l,b]),A=(0,h.v9)(w.Ys),M=!(0,h.v9)(w.Me),j=(0,h.v9)(w.fL);return n().createElement(g.ZP,{value:"row",index:e},n().createElement(C._,{menu:n().createElement(x.k,{uri:l,showUri:c.show.uri,isPlayed:u,onMarkAsPlayed:m})},n().createElement(P.X,{index:e,uri:l,uid:t,size:p,images:c.images.map((e=>({url:e.url,width:e.width||(e.label?L[e.label]:null),height:e.height||(e.label?L[e.label]:null)}))),name:c.name,description:c.description,isPlayable:c.isPlayable,fullyPlayed:u,durationMs:c.duration.milliseconds,releaseDate:c.release.date.toString()||"",resumePositionMs:o,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const t=`${c.name} Â· ${c.show.name}`;f(e,[l],t,a)},handlePlaybackClick:y,handleClick:U,activeTrackUri:A,isPlaying:M,position:j,badges:n().createElement(n().Fragment,null,c.isExplicit&&n().createElement(O.N,null)),playButtonWrapper:e=>e,actionButtons:n().createElement(D.K,{episodeUri:l,sharingInfo:null,showUri:c.show.uri}),topActionButtons:n().createElement(S.y,{menu:n().createElement(x.k,{uri:l,showUri:c.show.uri,isPlayed:u,onMarkAsPlayed:m})},n().createElement(I.z,null))})))}));var M=a(40893);const j=n().memo((({contextUri:e})=>{const t=(0,s.useContext)(r.H),a=(0,s.useCallback)((async(e,a)=>((e,t)=>{const a=t+e.items.length;return{totalCount:e.totalLength,items:e.items,pagingInfo:{nextOffset:a<e.totalLength?a:null}}})(await t.getEpisodes({offset:e,limit:a}),e)),[t]),c=(0,s.useCallback)(((t,a)=>n().createElement(A,{key:`${t.uri}/${a}`,index:a,uid:"",episode:t,contextUri:e})),[e]),{ref:i,breakpoint:o}=(0,N.Db)({[N.Uo.MEDIUM]:510,[N.Uo.LARGE]:600});return n().createElement(N.ZU.Provider,{value:o},n().createElement(g.ZP,{value:"track-list"},n().createElement(M.k,{showUri:"",ref:i,renderRow:c,fetchEpisodes:a})))}));var B=a(49941),T=a(34907),$=a(72559),R=a(27577);const Z=({metadata:e})=>{const t=(0,b.Y5)("#006450"),{isPlaying:a,togglePlay:r}=(0,B.n)({uri:e.uri},{featureIdentifier:"your_library"}),{uri:i,name:p,images:g,totalLength:E,owner:y}=e,h=(0,s.useMemo)((()=>({id:y.username,uri:y.uri,name:y.username,displayName:y.displayName||void 0,images:y.images||[]})),[y]);return n().createElement("section",{className:R.Z.yourEpisodes,"data-testid":"your-episodes-page"},n().createElement(o.gF,{backgroundColor:t},n().createElement(l.W,null,n().createElement(m.$,{size:f.qE.sm,onClick:r,isPlaying:a,uri:i}),n().createElement(d.i,{text:p})),n().createElement(o.Oz,{dragUri:"",images:g,name:p,shape:T.K.ROUNDED_CORNERS,renderImage:()=>n().createElement($.$,null)}),n().createElement(o.sP,null,n().createElement(o.dy,{small:!0,uppercase:!0},c.ag.get("playlist")),n().createElement(o.xd,{canEdit:!1,onClick:()=>{},className:R.Z.playlistTitle},p),n().createElement(o.QS,{creators:[h],totalEpisodes:E}))),n().createElement(u.o,{backgroundColor:t},n().createElement(u.F,null,n().createElement(m.$,{onClick:r,isPlaying:a,size:f.qE.lg,uri:i}))),n().createElement("div",{className:"contentSpacing"},n().createElement(j,{contextUri:i})))},q=n().memo((()=>{const e=(0,s.useContext)(r.H).getCapabilities(),t=(0,p.x)();return t?n().createElement(Z,{metadata:t}):n().createElement(i.h,{errorMessage:c.ag.get("error.not_found.title.page"),loadOffline:e.canModifyOffline})})),z=q},72559:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var s=a(27378),n=a.n(s),c=a(85485),r=a(27577);const i=()=>n().createElement("div",{className:r.Z.coverContainer},n().createElement(c.P,{iconSize:64,className:r.Z.coverIcon}))},79313:(e,t,a)=>{"use strict";a.d(t,{x:()=>o});var s=a(61043),n=a(4783),c=a(79308),r=a(2146),i=a(13559);function o(){const e=(0,n.j$)({offset:0,limit:1}),{user:t}=(0,c.v9)(r.Gg);if(null===e||null===t)return null;return{uri:`spotify:user:${t.id}:collection:your-episodes`,name:s.ag.get("sidebar.your_episodes"),images:[],totalLength:null==e?void 0:e.totalLength,owner:(0,i.V3)(t)}}},4783:(e,t,a)=>{"use strict";a.d(t,{j$:()=>u,MY:()=>d});var s=a(27378),n=a(52033),c=a(33644);var r=a(46903),i=a(85583);const o=n.EW.UPDATE;function l(e,t){const a=(0,s.useContext)(c.H),[n,r]=(0,s.useState)(null),l=(0,s.useCallback)((async s=>{e===s.data.list&&r(await t(a))}),[a,e,t]);return(0,s.useEffect)((()=>{l(new i.B(o,{list:e}))}),[l,e]),function(e,t){const a=(0,s.useContext)(c.H);(0,s.useEffect)((()=>{const s=a.getEvents();return s.addListener(e,t),()=>{s.removeListener(e,t)}}),[e,t,a])}(o,l),n}function d(e){return l(n.XD.TRACKS,(0,r.jP)((t=>t.getTracks(e)),[e]))}function u(e){return l(n.XD.EPISODES,(0,r.jP)((t=>t.getEpisodes(e)),[e]))}},49941:(e,t,a)=>{"use strict";a.d(t,{n:()=>p});var s=a(27378),n=a(72535),c=a(51674),r=a(6205);var i=a(31682),o=a(66917),l=a.n(o),d=a(40731);function u(e,t){var a;const s=l().from(e),n=l().from(t);return null!==(a=null==s?void 0:s.isSameIdentity(n))&&void 0!==a&&a}function m(e){return null!==e&&e.isPlaying?e.isPaused?d.q.PAUSED:d.q.PLAYING:d.q.NOT_PLAYING}function f(e,t){return null!==e&&u(e.context.uri,t)?m(e):d.q.NOT_PLAYING}function p(e,t,a){const o=(0,n.g)(),l=f(function(){const e=(0,n.g)(),[t,a]=(0,s.useState)(e.getState());return(0,r.G)(c.r.UPDATE,(e=>a(e.data))),t}(),e.uri),d=(0,s.useCallback)((()=>{switch(l){case i.q9.NOT_PLAYING:default:o.play(e,t,a);break;case i.q9.PLAYING:o.pause();break;case i.q9.PAUSED:o.resume()}}),[o,l,e,t,a]);return{isPlaying:l===i.q9.PLAYING,togglePlay:d}}},42658:(e,t,a)=>{"use strict";a.d(t,{X:()=>h});var s=a(27378),n=a.n(s),c=a(60247),r=a(41056),i=a(66917),o=a.n(i),l=a(60042),d=a.n(l);const u={episodeBlock:"show-episodeBlock-episodeBlock",isActive:"show-episodeBlock-isActive",title:"show-episodeBlock-title",titleLink:"show-episodeBlock-titleLink",selected:"show-episodeBlock-selected",topActions:"show-episodeBlock-topActions",actions:"show-episodeBlock-actions",noHover:"show-episodeBlock-noHover",imageContainer:"show-episodeBlock-imageContainer",showImage:"show-episodeBlock-showImage",description:"show-episodeBlock-description",metadata:"show-episodeBlock-metadata",badges:"show-episodeBlock-badges",medium:"show-episodeBlock-medium",large:"show-episodeBlock-large",header:"show-episodeBlock-header",descriptionContainer:"show-episodeBlock-descriptionContainer",playerActions:"show-episodeBlock-playerActions"};var m=a(39551),f=a(53177),p=a(52110),b=a(2031),g=a(34907),E=a(41113),y=a(65288);const h=n().memo((({uri:e,name:t,size:a,description:i,durationMs:l,images:h,badges:v,fullyPlayed:P,releaseDate:w,resumePositionMs:O,activeTrackUri:k,isPlaying:C,actionButtons:x,topActionButtons:D,onContextMenu:N,onTouchStart:I,onTouchEnd:S,handlePlaybackClick:U,handleDragStart:_,handleClick:L,position:A,index:M,isPlayable:j,playButtonWrapper:B=null})=>{const T=(0,r.k6)(),$=k===e,R=$&&C,Z=o().from(e).toURLPath(!0),q=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),T.push(Z),L&&L(e)}),[Z,T,L]),z=(0,s.useCallback)((e=>{e.stopPropagation(),U(e)}),[U]),G=e=>{e.stopPropagation()},Y=n().createElement(m.JM,{size:m.qE.xs,version:m.ul.secondary,onClick:z,isPlaying:R,disabled:!j}),H=B?B(Y):Y;return n().createElement("div",{className:d()(u.episodeBlock,{[u.isActive]:$,[u.medium]:a===y.Uo.MEDIUM,[u.large]:a===y.Uo.LARGE,[u.noHover]:a===y.Uo.XSMALL}),"data-testid":`episode-${M}`,draggable:!!_,onDragStart:_,onClick:q,onContextMenu:N,onTouchStart:I,onTouchEnd:S},n().createElement("div",{className:u.imageContainer},n().createElement(g.O,{className:d()(u.entityImage,u.showImage),type:b.p.EPISODE,size:(e=>{switch(e){case y.Uo.LARGE:return E.m$.SIZE_112;case y.Uo.MEDIUM:return E.m$.SIZE_64;default:return E.m$.SIZE_48}})(a),title:t,shape:g.K.ROUNDED_CORNERS,images:h})),n().createElement("div",{className:u.header},n().createElement(c.rU,{className:u.titleLink,to:Z,onClick:q},n().createElement(f.Dy.h4,{variant:f.Dy.balladBold,className:u.title},t)),n().createElement("div",{className:u.badges},v)),n().createElement("div",{className:u.descriptionContainer},n().createElement(f.Dy.p,{variant:f.Dy.mesto,className:u.description},i)),n().createElement("div",{className:u.metadata},n().createElement(p.E,{isPlaying:R,fullyPlayed:P,durationMs:l,releaseDate:w,resumePositionMs:O,position:$?A:void 0})),D&&n().createElement("div",{onClick:G,className:u.topActions},D),n().createElement("div",{onClick:G,className:u.actions},x),n().createElement("div",{className:u.playerActions},H))}))},40893:(e,t,a)=>{"use strict";a.d(t,{k:()=>f});var s=a(65526),n=a.n(s),c=a(27378),r=a.n(c);const i="show-episodeList-divider",o="show-episodeList-row";var l=a(93512),d=a(4050);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=r().memo(r().forwardRef(((e,t)=>{const{fetchEpisodes:a,renderRow:s,limit:n=50,showUri:u}=e,[f,p]=(0,c.useState)(d.d),b=(0,c.useRef)(!1),g=(0,c.useCallback)((()=>{if(!a)return;const e=f.pagingInfo.nextOffset;if(null===e)return;const t=0===f.totalCount?n:Math.min(f.totalCount-e,n);b.current||(b.current=!0,a(e,t).then((t=>{p((a=>{const s=[...a.items];return s.splice(e,t.items.length,...t.items),m(m({},t),{},{items:s})})),b.current=!1})))}),[a,f.pagingInfo.nextOffset,f.totalCount,n]);return(0,c.useEffect)((()=>{p(d.d)}),[u,a]),(0,c.useEffect)((()=>{0===f.pagingInfo.nextOffset&&g()}),[g,f.pagingInfo.nextOffset]),r().createElement("div",{ref:t},r().createElement(l.C,{onReachBottom:g,triggerOnInitialLoad:!0},f.items.map(((e,t)=>r().createElement("div",{className:o,key:`${t}${e.uid}`},r().createElement("hr",{className:i,"aria-hidden":!0}),s(e,t))))))})))},11700:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",ShowPage:"show-show-ShowPage",ShowContent:"show-show-ShowContent",metadata:"show-show-metadata",episodes:"show-show-episodes",episodesHeader:"show-show-episodesHeader",episodesSort:"show-show-episodesSort",subtitle:"show-show-subtitle",sectionTitle:"show-show-sectionTitle",trailer:"show-show-trailer",visibleDownloadButton:"show-show-visibleDownloadButton",moreButton:"show-show-moreButton",saveButton:"show-show-saveButton"}},27577:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s={yourEpisodes:"main-yourEpisodes-yourEpisodes",coverContainer:"main-yourEpisodes-coverContainer",episodeCard:"main-yourEpisodes-episodeCard",coverIcon:"main-yourEpisodes-coverIcon"}}}]);